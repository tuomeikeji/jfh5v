(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-jf-takePublish-takePublish"],{"14dd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("97b3"));function s(t){return t&&t.__esModule?t:{default:t}}var a={components:{uniSegmentedControl:n.default},data:function(){return{tabCurrent:0,status:0,tabItems:["抢单任务","限时任务","日常任务"],listData:[],pageSize:10,currentPage:1,isFirstPage:!0,hasNextPage:!0}},onLoad:function(){this.showList(),this.getSystemInfoPage()},onPullDownRefresh:function(){this.pullDown()},methods:{onClickTabItem:function(t){switch(this.currentPage=1,this.listData=[],t){case 0:this.status=2,this.showList();break;case 1:this.status=3,this.showList();break;case 2:this.status=1,this.showList();break}this.tabCurrent=t},showList:function(){var t=this;uni.showLoading({title:"加载中..."}),uni.request({url:this.GLOBAL.domain+"/task/allTask",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:{pageSize:this.pageSize,pageNum:this.currentPage,times:this.status},success:function(e){if(console.log("success_/task/allTask_悬赏任务列表",e),t.GLOBAL.successHttp(e),200==e.statusCode){console.log("load page 第"+t.currentPage+"页");var i=e.data.data.list;t.listData=t.isFirstPage?i:t.listData.concat(i),t.isFirstPage=!1,t.currentPage+=1,t.hasNextPage=e.data.data.hasNextPage,console.log("数据列表："+t.listData.length+"条")}},fail:function(e){console.log("fail_/task/allTask_悬赏任务列表",e),t.GLOBAL.failHttp(e)},complete:function(){uni.hideLoading(),uni.stopPullDownRefresh()}})},lower:function(){this.showList()},pullDown:function(){this.currentPage=1,this.listData=[],this.showList()},getSystemInfoPage:function(){var t=this;uni.getSystemInfo({success:function(e){t.winH=e.windowHeight}})}}};e.default=a},"2bc1":function(t,e,i){"use strict";i.r(e);var n=i("5007"),s=i("5f01");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("f231");var o=i("2877"),r=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"20a2c7ee",null);e["default"]=r.exports},"2ed6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-list-item[data-v-20a2c7ee]{padding:%?24?%}.uni-list-item-bottom[data-v-20a2c7ee]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.list-cell[data-v-20a2c7ee]{position:relative}.list-mask[data-v-20a2c7ee]{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.5)}.list-item[data-v-20a2c7ee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}",""])},5007:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("uni-segmented-control",{attrs:{current:t.tabCurrent,values:t.tabItems,"style-type":"text","active-color":"#007aff"},on:{clickItem:function(e){e=t.$handleEvent(e),t.onClickTabItem(e)}}}),i("v-uni-scroll-view",{style:"height:"+t.winH+"px;",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){e=t.$handleEvent(e),t.lower(e)}}},[t.listData.length>0?i("v-uni-view",{staticClass:"uni-list"},[t._l(t.listData,function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"list-item"},[i("v-uni-text",[t._v(t._s(e.title))]),i("v-uni-text",[t._v(t._s(e.taskIntegral>0?"+":"")+t._s(e.taskIntegral))])],1),i("v-uni-view",[t._v(t._s(e.content))]),i("v-uni-view",{key:n+"_2",staticClass:"list-item"},[i("v-uni-view",[e.peopleNum?i("v-uni-text",[t._v("限制人数："+t._s(e.peopleNum))]):t._e(),e.endTime?i("v-uni-text",[t._v("截止时间："+t._s(e.endTime))]):t._e()],1),i("v-uni-text",[t._v(t._s("0"==e.userState?"发布中":"1"==e.userState?"已领取":"2"==e.userState?"审批中":"3"==e.userState?"已完成":"已拒绝"))])],1),e.taskAndUserList?i("v-uni-view",{key:n+"_3",staticClass:"content-item people"},[i("v-uni-text",{staticClass:"text"},[t._v("他们已经接受了该任务：")]),t._l(e.taskAndUserList,function(e){return i("v-uni-text",{staticClass:"number"},[t._v(t._s(e.userName))])})],2):t._e(),0==e.userState?i("v-uni-view",{key:n+"_4",staticClass:"content-item change",on:{click:function(e){e=t.$handleEvent(e),t.change(e)}}},[i("v-uni-text",{staticClass:"text"},[t._v("选择接受这项任务")]),i("v-uni-text",{staticClass:"right-arrow"})],1):t._e(),1==e.userState?i("v-uni-view",{key:n+"_5",staticClass:"content-item change",staticStyle:{"background-color":"#FFB549"},attrs:{onTap:"commit"}},[i("v-uni-text",{staticClass:"text"},[t._v("提交完成这项任务")]),i("v-uni-text",{staticClass:"right-arrow"})],1):t._e()]})],2):i("v-uni-view",{staticClass:"uni-noData-txt"},[t._v("暂无数据")]),t.listData.length>0&&!t.hasNextPage?i("v-uni-view",{staticClass:"uni-noMore-txt"},[t._v("无更多数据")]):t._e()],1)],1)},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},5777:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniSegmentedControl",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:0}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},created:function(){this.currentIndex=this.current},methods:{_onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=n},"5f01":function(t,e,i){"use strict";i.r(e);var n=i("14dd"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=s.a},"63a1":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"segmented-control",class:{text:"text"===t.styleType},style:{borderColor:"text"===t.styleType?"":t.activeColor}},t._l(t.values,function(e,n){return i("v-uni-view",{key:n,staticClass:"segmented-control-item",class:[{text:"text"===t.styleType},{active:n===t.currentIndex}],style:{color:n===t.currentIndex?"text"===t.styleType?t.activeColor:"#fff":"text"===t.styleType?"#000":t.activeColor,backgroundColor:n===t.currentIndex&&"button"===t.styleType?t.activeColor:""},on:{click:function(e){e=t.$handleEvent(e),t._onClick(n)}}},[t._v(t._s(e))])}),1)},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},"7cb5":function(t,e,i){var n=i("ca31");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("26b28a91",n,!0,{sourceMap:!1,shadowMode:!1})},"8d54":function(t,e,i){var n=i("2ed6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("6b16a4e7",n,!0,{sourceMap:!1,shadowMode:!1})},"97b3":function(t,e,i){"use strict";i.r(e);var n=i("63a1"),s=i("9a1b");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("f479");var o=i("2877"),r=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"00c212d7",null);e["default"]=r.exports},"9a1b":function(t,e,i){"use strict";i.r(e);var n=i("5777"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=s.a},ca31:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".segmented-control[data-v-00c212d7]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:75%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;overflow:hidden;border:%?1?% solid;-webkit-border-radius:%?10?%;border-radius:%?10?%}.segmented-control.text[data-v-00c212d7]{border:0;-webkit-border-radius:0;border-radius:0}.segmented-control-item[data-v-00c212d7]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;line-height:%?60?%;-webkit-box-sizing:border-box;box-sizing:border-box;border-left:%?1?% solid}.segmented-control-item.active[data-v-00c212d7]{color:#fff}.segmented-control-item.text[data-v-00c212d7]{border-left:0;color:#000}.segmented-control-item.text.active[data-v-00c212d7]{border-bottom-style:solid}.segmented-control-item[data-v-00c212d7]:first-child{border-left-width:0}",""])},f231:function(t,e,i){"use strict";var n=i("8d54"),s=i.n(n);s.a},f479:function(t,e,i){"use strict";var n=i("7cb5"),s=i.n(n);s.a}}]);