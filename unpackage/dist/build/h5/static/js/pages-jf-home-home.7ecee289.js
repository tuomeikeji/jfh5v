(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-jf-home-home"],{2013:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"uni-card",class:t.isFull?"uni-card--full":"",on:{click:function(n){n=t.$handleEvent(n),t.onClick(n)}}},[t.title?e("v-uni-view",{staticClass:"uni-card__header"},[t.thumbnail?e("v-uni-view",{staticClass:"uni-card__header-extra-img-view"},[e("v-uni-image",{staticClass:"uni-card__header-extra-img",attrs:{src:t.thumbnail}})],1):t._e(),e("v-uni-view",{staticClass:"uni-card__header-title-text"},[t._v(t._s(t.title))]),t.extra?e("v-uni-view",{staticClass:"uni-card__header-extra-text"},[t._v(t._s(t.extra))]):t._e()],1):t._e(),e("v-uni-view",{staticClass:"uni-card__content uni-card__content--pd"},[t._t("default")],2),t.note?e("v-uni-view",{staticClass:"uni-card__footer"},[t._v(t._s(t.note))]):t._e()],1)},a=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return a})},"41dd":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"uni-page-body",staticStyle:{"padding-bottom":"0"}},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.topImage.length>0,expression:"topImage.length>0"}],staticClass:"topImage"},[e("v-uni-image",{attrs:{src:t.topImage,mode:"aspectFill"}})],1),e("uni-card",{attrs:{title:"今日积分排名",thumbnail:"/static/img/homeRank.png"}},[e("v-uni-view",{staticClass:"content-main"},[e("v-uni-view",{staticClass:"number"},[e("v-uni-text",{staticClass:"number-amount"},[t._v(t._s(null==t.rank.rank?"0":t.rank.rank))]),e("v-uni-text",{staticClass:"number-text"},[t._v("排名")])],1),e("v-uni-view",{staticClass:"number"},[e("v-uni-text",{staticClass:"number-amount"},[t._v(t._s(null==t.rank.amount?"0":t.rank.amount))]),e("v-uni-text",{staticClass:"number-text"},[t._v("今日积分")])],1)],1),e("uni-list",[e("uni-list-item",{attrs:{title:t.first.userName?t.first.userName+"获得今日积分冠军":"暂无人获得今日积分冠军",thumb:t.first.userImg?t.first.userImg:"/static/img/default_user_icon.png"},on:{click:function(n){n=t.$handleEvent(n),t.rankTo(n)}}})],1)],1),e("uni-card",{attrs:{title:"积分动态",thumbnail:"/static/img/menu.png"}},[e("v-uni-scroll-view",{staticStyle:{height:"960upx"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(n){n=t.$handleEvent(n),t.lower(n)}}},[t.listData.length>0?e("v-uni-view",{staticClass:"uni-list"},[t._l(t.listData,function(n,i){return[e("v-uni-view",{key:i+"_0",staticClass:"uni-list-cell"},[e("v-uni-view",{staticClass:"uni-media-list",on:{click:function(e){e=t.$handleEvent(e),t.onItemClick(n,i)}}},[e("v-uni-view",{staticClass:"uni-media-list-logo"},[e("v-uni-image",{attrs:{src:n.userImg?n.userImg:"/static/img/default_user_icon.png"}})],1),e("v-uni-view",{staticClass:"uni-media-list-body"},[e("v-uni-view",{staticClass:"uni-title"},[t._v(t._s(n.userName)),n.sqIntegral>0?e("v-uni-view",{staticClass:"uni-text-blue"},[t._v("+"+t._s(n.sqIntegral)+"    "+t._s("1"==n.integralTypeId?"品德A分":"2"==n.integralTypeId?"业绩B分":"3"==n.integralTypeId?"行为C分":"4"==n.integralTypeId?"管理奖扣分":"5"==n.integralTypeId?"自由奖励扣分":"6"==n.integralTypeId?"点赞分":"7"==n.integralTypeId?"悬赏任务分":"8"==n.integralTypeId?"积分支票":"9"==n.integralTypeId?"水平考核":""))]):e("v-uni-view",{staticClass:"uni-text-blue"},[t._v("-"+t._s(n.kIntegral)+"    "+t._s("1"==n.integralTypeId?"品德A分":"2"==n.integralTypeId?"业绩B分":"3"==n.integralTypeId?"行为C分":"4"==n.integralTypeId?"管理奖扣分":"5"==n.integralTypeId?"自由奖励扣分":"6"==n.integralTypeId?"点赞分":"7"==n.integralTypeId?"悬赏任务分":"8"==n.integralTypeId?"积分支票":"9"==n.integralTypeId?"水平考核":""))])],1),e("v-uni-view",{staticClass:"uni-text"},[t._v(t._s(n.approvalTitle))]),e("v-uni-view",{staticClass:"uni-text-small"},[t._v(t._s(n.spTime))])],1)],1)],1)]})],2):e("v-uni-view",{staticClass:"uni-noData-txt"},[t._v("暂无数据")]),t.listData.length>0&&!t.hasNextPage?e("v-uni-view",{staticClass:"uni-noMore-txt"},[t._v("无更多数据")]):t._e()],1)],1)],1)},a=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return a})},"596d":function(t,n,e){"use strict";e.r(n);var i=e("a27e"),a=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(n,t,function(){return i[t]})}(s);n["default"]=a.a},"634a":function(t,n,e){"use strict";e.r(n);var i=e("2013"),a=e("596d");for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);e("d8d3");var o=e("2877"),l=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"3bd1da66",null);n["default"]=l.exports},"7f92":function(t,n,e){"use strict";e.r(n);var i=e("41dd"),a=e("8606");for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);e("8b70");var o=e("2877"),l=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"0276a812",null);n["default"]=l.exports},8606:function(t,n,e){"use strict";e.r(n);var i=e("bff1"),a=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(n,t,function(){return i[t]})}(s);n["default"]=a.a},"8b70":function(t,n,e){"use strict";var i=e("d5bc"),a=e.n(i);a.a},a27e:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={name:"UniCard",props:{title:{type:String,default:""},extra:{type:String,default:""},note:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1}},methods:{onClick:function(){this.$emit("click")}}};n.default=i},bff1:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("634a")),a=o(e("44cb")),s=o(e("6caa"));function o(t){return t&&t.__esModule?t:{default:t}}var l={components:{uniCard:i.default,uniList:a.default,uniListItem:s.default},data:function(){return{topImage:"",rank:{},first:{},listData:[],pageSize:10,currentPage:1,isFirstPage:!0,hasNextPage:!0}},onPullDownRefresh:function(){this.pullDown()},onShow:function(){this.getTopImage(),this.getRank(),this.getList()},methods:{getTopImage:function(){var t=this;uni.showLoading({title:"加载中..."}),this.axios({url:this.GLOBAL.domain+"/home/picture",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:this.$qs.stringify({location:0})}).then(function(n){console.log("success_HomeTopImage----",n),t.GLOBAL.successHttp(n),n.data.data.list.length>0&&(t.topImage=n.data.data.list[0].picUrl),uni.hideLoading()}).catch(function(n){console.log("failHomeTopImage---",n),t.GLOBAL.failHttp(n)})},getRank:function(){var t=this;uni.showLoading({title:"加载中..."}),this.axios({url:this.GLOBAL.domain+"/home/index",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"}}).then(function(n){console.log("success_/home/index----",n),t.GLOBAL.successHttp(n),t.rank=n.data.data,t.first=n.data.data,uni.hideLoading()}).catch(function(n){console.log("fail_/home/index---",n),t.GLOBAL.failHttp(n)})},getList:function(){var t=this;uni.showLoading({title:"加载中..."}),this.axios({url:this.GLOBAL.domain+"/home/list",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:this.$qs.stringify({pageSize:this.pageSize,pageNum:this.currentPage,userId:""})}).then(function(n){console.log("success_/home/list----",n),t.GLOBAL.successHttp(n),console.log("load page 第"+t.currentPage+"页");var e=n.data.data.list;t.listData=t.isFirstPage?e:t.listData.concat(e),t.isFirstPage=!1,t.currentPage+=1,t.hasNextPage=n.data.data.hasNextPage,console.log("数据list:"+t.listData.length+"条"),uni.hideLoading()}).catch(function(n){console.log("fail_/home/list----",n),t.GLOBAL.failHttp(n)})},lower:function(){this.getList()},pullDown:function(){this.currentPage=1,this.listData=[],this.getList()},onItemClick:function(t,n){var e=this.listData[n].approvalId;console.log("list点击",e),uni.navigateTo({url:"logDetail/homeLogDetails?approvalId="+e})},rankTo:function(){uni.switchTab({url:"/pages/jf/rank/rank"})}}};n.default=l},d5bc:function(t,n,e){var i=e("e47e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("6934b292",i,!0,{sourceMap:!1,shadowMode:!1})},d7f0:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,'.uni-card[data-v-3bd1da66]{margin-left:%?24?%;margin-right:%?24?%;background:#fff;-webkit-box-shadow:none;box-shadow:none;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.uni-card[data-v-3bd1da66]:after{content:"";position:absolute;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;top:-50%;left:-50%;right:-50%;bottom:-50%;border:%?1?% solid #c8c7cc;-webkit-border-radius:%?12?%;border-radius:%?12?%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5)}.uni-card__footer[data-v-3bd1da66],.uni-card__header[data-v-3bd1da66]{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:%?16?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-card__header[data-v-3bd1da66]:after{position:absolute;bottom:0;right:0;left:0;height:%?1?%;content:"";-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-card__header-title[data-v-3bd1da66]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-right:%?16?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-card__header-title-text[data-v-3bd1da66]{font-size:%?32?%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.uni-card__header-extra-img-view[data-v-3bd1da66]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.uni-card__header-extra-img[data-v-3bd1da66]{height:%?40?%;width:%?40?%;margin-right:%?16?%}.uni-card__header-extra-text[data-v-3bd1da66]{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:30%;margin-left:%?16?%;font-size:%?28?%;text-align:right;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.uni-card__content--pd[data-v-3bd1da66]{padding:%?16?%}.uni-card__footer[data-v-3bd1da66]{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;color:#999;font-size:%?24?%;padding-top:0}.uni-card--full[data-v-3bd1da66]{margin:0}',""])},d8d3:function(t,n,e){"use strict";var i=e("dcbc7"),a=e.n(i);a.a},dcbc7:function(t,n,e){var i=e("d7f0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("0a3ac25e",i,!0,{sourceMap:!1,shadowMode:!1})},e47e:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 今日积分排名card 自写样式*/.content-main[data-v-0276a812]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?180?%;position:relative}.content-main .number[data-v-0276a812]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.content-main .number .number-amount[data-v-0276a812],.content-main .number .number-text[data-v-0276a812]{display:inline-block;width:100%;text-align:center}.content-main .number .number-amount[data-v-0276a812]{line-height:%?120?%;font-size:%?60?%;color:#4d96f5}.content-main .number .number-text[data-v-0276a812]{color:#999}\n/* 积分动态card 覆盖uni.css*/.uni-media-list[data-v-0276a812]{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-title[data-v-0276a812]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}",""])}}]);