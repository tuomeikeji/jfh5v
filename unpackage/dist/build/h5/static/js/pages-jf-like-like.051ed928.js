(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-jf-like-like"],{"083e":function(t,e,i){"use strict";var n=i("586f"),a=i.n(n);a.a},"0916":function(t,e,i){"use strict";i.r(e);var n=i("3839"),a=i("eea2");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("aff4");var s=i("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"3dbd11ef",null);e["default"]=l.exports},"2bda":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"search",style:{backgroundColor:t.backgroundColor}},[i("v-uni-view",{staticClass:"content",style:{"border-radius":t.radius+"px",border:t.border}},[i("v-uni-view",{staticClass:"content-box",class:{center:2===t.mode}},[i("v-uni-text",{staticClass:"icon icon-search"},[t._v("")]),i("v-uni-input",{staticClass:"input",class:{center:!t.active&&2===t.mode},attrs:{focus:t.isFocus,placeholder:t.placeholder},on:{focus:function(e){e=t.$handleEvent(e),t.focus(e)},blur:function(e){e=t.$handleEvent(e),t.blur(e)}},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),t.isDelShow?i("v-uni-text",{staticClass:"icon icon-del",on:{click:function(e){e=t.$handleEvent(e),t.clear(e)}}},[t._v("")]):t._e()],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.active&&t.show&&"inside"===t.button||t.isDelShow&&"inside"===t.button,expression:"(active && show && button === 'inside') || (isDelShow && button === 'inside')"}],staticClass:"searchBtn",on:{click:function(e){e=t.$handleEvent(e),t.search(e)}}},[t._v("搜索")])],1),"outside"===t.button?i("v-uni-view",{staticClass:"button",class:{active:t.show||t.active},on:{click:function(e){e=t.$handleEvent(e),t.search(e)}}},[i("v-uni-view",{staticClass:"button-item"},[t._v(t._s(t.show?"搜索":t.searchName))])],1):t._e()],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},3839:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("mSearch",{attrs:{button:"inside"},on:{search:function(e){e=t.$handleEvent(e),t.search(e)}}}),i("uni-notice-bar",{attrs:{single:!0,"show-icon":!0,text:t.has?"每周有 1 次点赞的机会，您目前剩余 1 次机会":"每周有 1 次点赞的机会，您目前剩余 0 次机会"}}),i("v-uni-view",{staticStyle:{"margin-bottom":"40upx"}},[i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell"},[i("v-uni-view",{staticClass:"uni-media-list"},[i("v-uni-view",{staticClass:"uni-media-list-logo"},[t.showImg?i("v-uni-image",{attrs:{src:t.user.avatar?t.user.avatar:"/static/img/default_user_icon.png"}}):t._e()],1),i("v-uni-view",{staticClass:"uni-media-list-body"},[i("v-uni-view",{staticClass:"flex-space-between"},[i("v-uni-text",{staticClass:"uni-title"},[t._v(t._s(t.user.userName))]),i("v-uni-text",{staticClass:"uni-title",staticStyle:{color:"#DD4F43"}},[t._v("+ "+t._s(t.user.count*t.user.loveIntegral))])],1),i("v-uni-view",{staticClass:"uni-text"},[t._v(t._s(t.user.remark?"已被 "+t.user.remark+" 点赞":"你现在还没有被人点赞"))]),i("v-uni-view",{staticClass:"uni-text-small"},[t._v("(这里是你自己的被点赞记录。)")])],1)],1)],1)],1)],1),i("v-uni-view",[t._l(t.list,function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.onItemClick(e)}}},[i("v-uni-view",{staticClass:"uni-media-list"},[i("v-uni-view",{staticClass:"uni-media-list-logo"},[t.showImg?i("v-uni-image",{attrs:{src:e.avatar?e.avatar:"/static/img/default_user_icon.png"}}):t._e()],1),i("v-uni-view",{staticClass:"uni-media-list-body"},[i("v-uni-view",{staticClass:"flex-space-between"},[i("v-uni-text",{staticClass:"uni-title"},[t._v(t._s(e.userName))]),i("v-uni-text",{staticClass:"uni-title",staticStyle:{color:"#DD4F43"}},[t._v("+ "+t._s(e.count*t.loveIntegral))])],1),i("v-uni-view",{staticClass:"uni-text"},[t._v(t._s(e.remark?"已被 "+e.remark+" 点赞":"现在还没有被人点赞"))]),i("v-uni-view",{staticClass:"uni-text-small"},[t._v("(点击右边的大拇指给她/他点赞！)")])],1),i("v-uni-view",{staticClass:"likeIcon"},[i("v-uni-image",{attrs:{src:e.liked?"/static/img/like-active.png":"/static/img/like.png"}})],1)],1)],1)],1)]}),i("v-uni-view",{staticClass:"uni-noMore-txt"},[t._v("无更多数据")])],2)],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"38d4":function(t,e,i){var n=i("8105");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("36b7b60f",n,!0,{sourceMap:!1,shadowMode:!1})},5810:function(t,e,i){"use strict";var n=i("6752"),a=i.n(n);a.a},"586f":function(t,e,i){var n=i("e866");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1e578349",n,!0,{sourceMap:!1,shadowMode:!1})},6752:function(t,e,i){var n=i("e856");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("62b590c2",n,!0,{sourceMap:!1,shadowMode:!1})},8105:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".likeIcon[data-v-3dbd11ef]{width:%?70?%;height:%?70?%;position:absolute;bottom:%?40?%;right:%?30?%}.likeIcon uni-image[data-v-3dbd11ef]{width:100%;height:100%}",""])},"82fb":function(t,e,i){"use strict";i.r(e);var n=i("8a67"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},8911:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"uni-noticebar",style:{backgroundColor:t.backgroundColor,color:t.color},on:{click:function(e){e=t.$handleEvent(e),t.onClick(e)}}},[t.showClose?i("v-uni-view",{staticClass:"uni-noticebar__close"},[i("uni-icon",{attrs:{type:"closefill",size:"12"}})],1):t._e(),i("v-uni-view",{staticClass:"uni-noticebar__content",class:{"uni-noticebar--flex":t.scrollable||t.single||t.moreText}},[t.showIcon?i("v-uni-view",{staticClass:"uni-noticebar__content-icon",style:{backgroundColor:t.backgroundColor,color:t.color}},[i("uni-icon",{attrs:{color:t.color,type:"sound",size:"14"}})],1):t._e(),i("v-uni-view",{staticClass:"uni-noticebar__content-text",class:{"uni-noticebar--scrollable":t.scrollable,"uni-noticebar--single":!t.scrollable&&(t.single||t.moreText)}},[i("v-uni-view",{staticClass:"uni-noticebar__content-inner",style:{animation:t.animation,"-webkit-animation":t.animation},attrs:{id:t.elId}},[t._v(t._s(t.text))])],1),t.showGetMore?i("v-uni-view",{staticClass:"uni-noticebar__content-more",style:{width:t.moreText?"180upx":"20px"},on:{click:function(e){e=t.$handleEvent(e),t.clickMore(e)}}},[t.moreText?i("v-uni-view",{staticClass:"uni-noticebar__content-more-text"},[t._v(t._s(t.moreText))]):t._e(),i("uni-icon",{attrs:{type:"arrowright",size:"14"}})],1):t._e()],1)],1):t._e()},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"8a59":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("10ff"));function a(t){return t&&t.__esModule?t:{default:t}}var o={name:"UniNoticeBar",components:{uniIcon:n.default},props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#fffbe8"},speed:{type:[String,Number],default:100},color:{type:String,default:"#de8c17"},single:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},showGetMore:{type:Boolean,default:!1},showClose:{type:Boolean,default:!1}},data:function(){var t=this.__call_hook?"uni_notice_bar":"Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{elId:t,show:!0,animation:""}},watch:{text:function(t,e){var i=this;this.$nextTick(function(){setTimeout(i.setAnimation,200)})}},mounted:function(){this.setAnimation()},methods:{clickMore:function(){this.$emit("getmore")},onClick:function(t){var e=t.touches?t.touches[0]?t.touches[0].clientX:t.changedTouches[0].clientX:t.detail.clientX;uni.upx2px(48)+12>e&&this.showClose&&(this.show=!1,this.$emit("close")),this.$emit("click")},setAnimation:function(){var t=this;this.scrollable&&uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec(function(e){t.animation="notice ".concat(e[0].width/t.speed,"s linear infinite both")})}}};e.default=o},"8a67":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{mode:{type:Number,default:1},button:{type:String,default:"outside"},show:{type:Boolean,default:!0},radius:{type:String,default:"60"},placeholder:{type:String,default:"请输入搜索内容"},backgroundColor:{type:String,default:"#fff"},border:{type:String,default:"1px #f5f5f5 solid"}},data:function(){return{active:!1,inputVal:"",searchName:"取消",isDelShow:!1,isFocus:!1}},methods:{focus:function(){this.active=!0},blur:function(){this.isFocus=!1,this.inputVal||(this.active=!1)},clear:function(){this.inputVal="",this.active=!1,this.$emit("search","")},getFocus:function(){this.isFocus=!0},search:function(){this.inputVal&&(console.log(this.inputVal),this.$emit("search",this.inputVal))}},watch:{inputVal:function(t){t?(this.searchName="搜索",this.isDelShow=!0):(this.searchName="取消",this.isDelShow=!1)}}};e.default=n},a8e7:function(t,e,i){"use strict";i.r(e);var n=i("8a59"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},aff4:function(t,e,i){"use strict";var n=i("38d4"),a=i.n(n);a.a},e664:function(t,e,i){"use strict";i.r(e);var n=i("2bda"),a=i("82fb");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("5810");var s=i("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"9e7e48d4",null);e["default"]=l.exports},e856:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.search[data-v-9e7e48d4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;border-bottom:%?1?% #f5f5f5 solid;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?15?%;font-size:%?28?%;background:#fff}.search .content[data-v-9e7e48d4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%;height:%?60?%;border:%?1?% #e0e0e0 solid;background:#fff;overflow:hidden;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear;-webkit-border-radius:%?30?%;border-radius:%?30?%}.search .content .content-box[data-v-9e7e48d4]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search .content .content-box.center[data-v-9e7e48d4]{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.search .content .content-box .icon[data-v-9e7e48d4]{padding:0 %?15?%}.search .content .content-box .icon.icon-del[data-v-9e7e48d4]{font-size:%?38?%}.search .content .content-box .input[data-v-9e7e48d4]{width:100%;max-width:100%;line-height:%?60?%;height:%?60?%;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear}.search .content .content-box .input.center[data-v-9e7e48d4]{width:%?200?%}.search .content .content-box .input.sub[data-v-9e7e48d4]{width:auto;color:grey}.search .content .searchBtn[data-v-9e7e48d4]{height:100%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding:0 %?30?%;background:#4d96f5;line-height:%?60?%;color:#fff;border-left:%?1?% #ccc solid;-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.search .button[data-v-9e7e48d4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:0;-webkit-transition:all .2s linear;-o-transition:all .2s linear;transition:all .2s linear;white-space:nowrap;overflow:hidden}.search .button.active[data-v-9e7e48d4]{padding-left:%?15?%;width:%?100?%}@font-face{font-family:iconfont;src:url(https://at.alicdn.com/t/font_989023_efq0mtli526.ttf) format("truetype")}.icon[data-v-9e7e48d4]{font-family:iconfont;font-size:%?32?%;font-style:normal;color:#999}',""])},e866:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-noticebar[data-v-7f236313]{padding:%?12?% %?24?%;font-size:%?24?%;line-height:1.5;margin-bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left}.uni-noticebar__close[data-v-7f236313]{color:#999;margin-right:%?24?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.uni-noticebar__content[data-v-7f236313]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden}.uni-noticebar__content.uni-noticebar--flex[data-v-7f236313]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.uni-noticebar__content-icon[data-v-7f236313]{display:inline-block;z-index:1;padding-right:%?12?%}.uni-noticebar__content-more[data-v-7f236313]{width:%?180?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;word-break:keep-all;margin-left:%?10?%;color:#999}.uni-noticebar__content-more-text[data-v-7f236313]{font-size:%?24?%;white-space:nowrap}.uni-noticebar__content-text[data-v-7f236313]{word-break:break-all;line-height:1.5;display:inline}.uni-noticebar__content-text.uni-noticebar--single[data-v-7f236313]{-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.uni-noticebar__content-text.uni-noticebar--scrollable[data-v-7f236313]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:block;overflow:hidden}.uni-noticebar__content-text.uni-noticebar--scrollable .uni-noticebar__content-inner[data-v-7f236313]{padding-left:100%;white-space:nowrap;display:inline-block;-webkit-transform:translateZ(0);transform:translateZ(0)}.uni-noticebar__content-inner[data-v-7f236313]{font-size:%?24?%;display:inline}@-webkit-keyframes notice-data-v-7f236313{to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes notice-data-v-7f236313{to{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}",""])},eea2:function(t,e,i){"use strict";i.r(e);var n=i("fee5"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},f013:function(t,e,i){"use strict";i.r(e);var n=i("8911"),a=i("a8e7");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("083e");var s=i("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"7f236313",null);e["default"]=l.exports},fee5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("e664")),a=o(i("f013"));function o(t){return t&&t.__esModule?t:{default:t}}var s={components:{mSearch:n.default,uniNoticeBar:a.default},data:function(){return{showImg:!0,searchString:"",has:!0,list:[],user:{},loveUser:"",loveIntegral:20}},onShow:function(){this.getLikeList()},onPullDownRefresh:function(){this.getLikeList()},methods:{search:function(t){this.searchString=t,this.getLikeList()},getLikeList:function(){var t=this;uni.showLoading({title:"加载中..."}),this.list=[],this.axios({url:this.GLOBAL.domain+"/lovePraise/lovePraiseList",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:this.$qs.stringify({userName:this.searchString})}).then(function(e){console.log("success_/lovePraiseList----",e),t.GLOBAL.successHttp(e);var i=e.data.data.user,n=e.data.data.userList,a=e.data.data.loveUser;null!=i.remark?i.count=i.remark.split(",").length:i.count=0,null!=a&&(t.has=!1),n.forEach(function(t){null!=t.remark?t.count=t.remark.split(",").length:t.count=0,t.userId==a?t.liked=!0:t.liked=!1}),t.user=i,t.loveUser=a,t.list=n,uni.hideLoading(),uni.stopPullDownRefresh()}).catch(function(e){console.log("fail_/lovePraiseList---",e),t.GLOBAL.failHttp(e),uni.hideLoading(),uni.stopPullDownRefresh()})},onItemClick:function(t){var e=this,i=this;if(!i.has)return uni.showModal({content:"您的点赞机会已经用完了，请等待下周点赞",showCancel:!1}),!1;console.log("赞userId：----",t.userId),i.axios({url:i.GLOBAL.domain+"/lovePraise/updataUser",method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},data:i.$qs.stringify({userId:t.userId})}).then(function(t){console.log("success_/lovePraise/updataUser----",t),i.GLOBAL.successHttp(t),200==t.status&&uni.showModal({content:"点赞成功",showCancel:!1,success:function(){i.getLikeList()}}),uni.hideLoading()}).catch(function(t){console.log("fail_/lovePraise/updataUser---",t),e.GLOBAL.failHttp(t),uni.hideLoading()})}}};e.default=s}}]);